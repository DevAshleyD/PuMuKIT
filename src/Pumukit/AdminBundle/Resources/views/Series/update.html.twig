{% form_theme form 'PumukitAdminBundle:Themes:fields.html.twig' %}

<div id="tv_admin_container">

  <div class="background_id">
    {{ series.id }}
  </div>
  <br />

  <form onsubmit="new Ajax.Updater('list_series', '{{ path('pumukitadmin_series_update', {'id': series.id}) }}', {
		  asynchronous:true, evalScripts:true,
		  onFailure:function(request, json){new Effect.Opacity('series_save_error', {duration:3.0, from:1.0, to:0.0});},
		  onSuccess:function(request, json){
		  new Effect.Opacity('series_save_ok', {duration:3.0, from:1.0, to:0.0});
		  new Ajax.Updater('preview_series', '{{ path('pumukitadmin_series_show', {'id': series.id}) }}', {asynchronous:true, evalScripts:true});
		  },
		  parameters:Form.serialize(this)});
		  return false;"
	action="{{ path('pumukitadmin_series_update', {'id': series.id}) }}" method="POST">

      <fieldset>

	<input type="hidden" name="id" id="id" value="{{ series.id }}">
	<div id="remember_save_series" style="display: none; position: absolute; color:red; border: 1px solid red; padding: 5px; background-color:#fdc; font-weight:bold;">
	  Pulse OK para que el cambio tenga efecto  </div>

	<ul class="tv_admin_actions">
	  <span id="series_save_error" style="color:red; opacity: 0.0; filter: alpha(opacity=0); ZOOM:1">Guardado ERROR</span>
	  <span id="series_save_ok" style="color:blue; opacity: 0.0; filter: alpha(opacity=0);ZOOM:1">Guardado OK</span>
	  <li><input type="submit" name="OK" value="{% trans %}OK{% endtrans %}" class="tv_admin_action_save" onclick="if(comprobar_form_series($('public_date').value, /^(\d+)\/(\d+)\/(\d+) (\d+):(\d+)(:(\d+))?$/)){$('remember_save_series').hide();}else{return false}"></li>
	  <li><input type="reset" name="reset" value="{% trans %}Reset{% endtrans %}" class="tv_admin_action_delete" onclick="$('remember_save_series').hide()"></li>
	</ul>

	{% for child in form %}
	  {{ form_row(child) }}
	{% endfor %}

      </fieldset>
  </Form>
</div>
