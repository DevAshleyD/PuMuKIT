window.submit_delete_role = function(id, countMm)
{
    if (countMm == 0){
        if (window.confirm("{% trans %}Are you sure you want to delete this role?{% endtrans %}")){
            var url = "{{ path('pumukitadmin_role_delete', {'id': '__id__'})|raw }}";
            var message = "{% trans %}Deleted Role{% endtrans %}";
            new Ajax.Updater('list_roles', url.replace('__id__', id), {asynchronous:true, evalScripts:true, method:'POST', parameters: {'_method': 'DELETE'}, onSuccess:success(message)});
        }
    }else{
        window.alert("{% trans %}Impossible to delete, role with{% endtrans %} "+countMm+" {% trans %}people{% endtrans %}");
    }
}

window.submit_delete_user = function(id, userFullname)
{
    if (window.confirm("{% trans %}Are you sure you want to delete the user{% endtrans %} "+userFullname+"?")){
        var url = "{{ path('pumukitadmin_user_delete', {'id': '__id__'})|raw }}";
        var message = '{% trans %}Deleted User{% endtrans %} "'+userFullname+'" OK.';
        new Ajax.Updater('list_users', url.replace('__id__', id), {asynchronous:true, evalScripts:true, method:'POST', parameters: {'_method': 'DELETE'}, onSuccess:success(message)});
    }
}

window.submit_delete_broadcast = function(id, countMm)
{
    if (countMm == 0){
        if (window.confirm("{% trans %}Are you sure you want to delete this broadcast?{% endtrans %}")){
            var url = "{{ path('pumukitadmin_broadcast_delete', {'id': '__id__'})|raw }}";
            var message = '{% trans %}Deleted Broadcast successfully.{% endtrans %}';
            new Ajax.Updater('list_broadcasts', url.replace('__id__', id), {asynchronous:true, evalScripts:true, method:'POST', parameters: {'_method': 'DELETE'}, onSuccess:success(message)});
        }
    }else{
        window.alert("{% trans %}Impossible to delete, broadcast with{% endtrans %} "+countMm+" {% trans %}multimedia object(s).{% endtrans %}");
    }
}

window.submit_delete_direct = function(id)
{
    if (window.confirm("{% trans %}Are you sure you want to delete this channel?{% endtrans %}")){
        var url = "{{ path('pumukitadmin_direct_delete', {'id': '__id__'})|raw }}";
        var message = '{% trans %}Live channel deleted.{% endtrans %}';
        new Ajax.Updater('list_directs', url.replace('__id__', id), {asynchronous:true, evalScripts:true, method:'POST', parameters: {'_method': 'DELETE'}, onSuccess:success(message)});
    }
}

window.submit_delete_mms = function(id)
{
    if (window.confirm("{% trans %}Are you sure you want to delete this multimedia object?{% endtrans %}")){
        var url = "{{ path('pumukitadmin_mms_delete', {'id': '__id__'})|raw }}";
        var message = '{% trans %}Multimedia Object deleted.{% endtrans %}';
        new Ajax.Updater('list_mms', url.replace('__id__', id), {asynchronous:true, evalScripts:true, method:'POST', parameters: {'_method': 'DELETE'}, onSuccess:success(message)});
    }
}

window.submit_delete_series = function(id, seriesTitle, countMm)
{
    if (window.confirm('{% trans %}Are you sure you want to delete the series{% endtrans %} "'+seriesTitle+'"? {% trans %}This series has{% endtrans %} '+countMm+' {% trans %}multimedia object(s){% endtrans %}.')){
        var url = "{{ path('pumukitadmin_series_delete', {'id': '__id__'})|raw }}";
        var message = '{% trans %}Deleted Series{% endtrans %} "'+seriesTitle+'".';
        new Ajax.Updater('list_series', url.replace('__id__', id), {asynchronous:true, evalScripts:true, method:'POST', parameters: {'_method': 'DELETE'}, onSuccess:success(message)});
    }
}

function success(message){
  $('div_messages_span_info').innerHTML = message;
  new Effect.Opacity('div_messages_info', {duration:7.0, from:1.0, to:0.0});
}
